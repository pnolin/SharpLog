<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta name="google-signin-scope" content="profile email">
    <title>SharpLog.FrontEnd</title>
    <base href="/" />
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" />
    <link href="_content/Blazored.Typeahead/blazored-typeahead.css" rel="stylesheet" />
    <script src="https://apis.google.com/js/api:client.js"></script>
    <script>
        window.renderGoogleButton = (clientId, buttonId, applicationRoot) => {
            gapi.load('auth2', () => {
                const auth2 = gapi.auth2.init({
                    client_id: `${clientId}.apps.googleusercontent.com`,
                    cookiepolicy: 'single_host_origin',
                });

                const button = document.getElementById(buttonId);
                auth2.attachClickHandler(button, {}, (googleUser) => {
                    const idToken = googleUser.getAuthResponse().id_token;
                    window.localStorage.setItem('idToken', idToken);
                    window.location.href = applicationRoot;
                });
            });
        }
    </script>
</head>

<body>
    <app>Loading...</app>
    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">🗙</a>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>
    <script src="_content/Blazored.Typeahead/blazored-typeahead.js"></script>
</body>
</html>